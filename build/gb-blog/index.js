(()=>{"use strict";var e,o={669:(e,o,l)=>{const r=window.wp.blocks,t=window.wp.i18n,s=window.wp.element,a=window.wp.blockEditor,n=window.wp.components,d=window.wp.apiFetch;var c=l.n(d);const i=window.ReactJSXRuntime,b=(e,o=20)=>{const l=e.replace(/<[^>]+>/g,""),r=l.trim().split(/\s+/);return r.length>o?r.slice(0,o).join(" ")+"...":l},g=JSON.parse('{"UU":"create-block/gb-blog"}');(0,r.registerBlockType)(g.UU,{edit:function({attributes:e,setAttributes:o}){const[l,r]=(0,s.useState)([]),[d,g]=(0,s.useState)(!0),{postsToShow:p,order:u,orderBy:_,displayFeaturedImage:h,displayExcerpt:m,backgroundColor:x,textColor:v}=e;(0,s.useEffect)((()=>{w()}),[p,u,_]);const w=async()=>{try{g(!0);const e=await c()({path:`/wp/v2/posts?per_page=${p}&order=${u}&orderby=${_}&_embed`});r(e)}catch(e){console.error("Error fetching posts:",e)}finally{g(!1)}},f=(0,a.useBlockProps)({style:{backgroundColor:x,color:v}});return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.InspectorControls,{children:[(0,i.jsxs)(n.PanelBody,{title:(0,t.__)("Posts Settings","gb-blog"),children:[(0,i.jsx)(n.RangeControl,{label:(0,t.__)("Number of posts","gb-blog"),value:p,onChange:e=>o({postsToShow:e}),min:1,max:12}),(0,i.jsx)(n.SelectControl,{label:(0,t.__)("Order","gb-blog"),value:u,options:[{label:(0,t.__)("Descending","gb-blog"),value:"desc"},{label:(0,t.__)("Ascending","gb-blog"),value:"asc"}],onChange:e=>o({order:e})}),(0,i.jsx)(n.SelectControl,{label:(0,t.__)("Order by","gb-blog"),value:_,options:[{label:(0,t.__)("Date","gb-blog"),value:"date"},{label:(0,t.__)("Title","gb-blog"),value:"title"},{label:(0,t.__)("Author","gb-blog"),value:"author"}],onChange:e=>o({orderBy:e})})]}),(0,i.jsxs)(n.PanelBody,{title:(0,t.__)("Display Settings","gb-blog"),children:[(0,i.jsx)(n.ToggleControl,{label:(0,t.__)("Show featured image","gb-blog"),checked:h,onChange:()=>o({displayFeaturedImage:!h})}),(0,i.jsx)(n.ToggleControl,{label:(0,t.__)("Show excerpt","gb-blog"),checked:m,onChange:()=>o({displayExcerpt:!m})}),(0,i.jsxs)("div",{className:"components-base-control",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:(0,t.__)("Background Color","gb-blog")}),(0,i.jsx)(n.ColorPicker,{color:x,onChangeComplete:e=>o({backgroundColor:e.hex})})]}),(0,i.jsxs)("div",{className:"components-base-control",children:[(0,i.jsx)("label",{className:"components-base-control__label",children:(0,t.__)("Text Color","gb-blog")}),(0,i.jsx)(n.ColorPicker,{color:v,onChangeComplete:e=>o({textColor:e.hex})})]})]})]}),(0,i.jsx)("div",{...f,children:d?(0,i.jsx)(n.Spinner,{}):(0,i.jsx)("div",{className:"wp-block-gb-blog-blog-posts-grid",children:l.map((e=>(0,i.jsxs)("article",{className:"post-card",children:[h&&e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]&&e._embedded["wp:featuredmedia"][0].source_url&&(0,i.jsx)("img",{src:e._embedded["wp:featuredmedia"][0].source_url,alt:e._embedded["wp:featuredmedia"][0].alt_text||"",className:"post-featured-image"}),(0,i.jsxs)("div",{className:"post-content",children:[(0,i.jsx)("h3",{dangerouslySetInnerHTML:{__html:e.title.rendered}}),m&&(0,i.jsx)("div",{className:"post-excerpt",dangerouslySetInnerHTML:{__html:b(e.content.rendered)}})]})]},e.id)))})})]})},save:function(){return null}})}},l={};function r(e){var t=l[e];if(void 0!==t)return t.exports;var s=l[e]={exports:{}};return o[e](s,s.exports,r),s.exports}r.m=o,e=[],r.O=(o,l,t,s)=>{if(!l){var a=1/0;for(i=0;i<e.length;i++){for(var[l,t,s]=e[i],n=!0,d=0;d<l.length;d++)(!1&s||a>=s)&&Object.keys(r.O).every((e=>r.O[e](l[d])))?l.splice(d--,1):(n=!1,s<a&&(a=s));if(n){e.splice(i--,1);var c=t();void 0!==c&&(o=c)}}return o}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[l,t,s]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var l in o)r.o(o,l)&&!r.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:o[l]})},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),(()=>{var e={776:0,384:0};r.O.j=o=>0===e[o];var o=(o,l)=>{var t,s,[a,n,d]=l,c=0;if(a.some((o=>0!==e[o]))){for(t in n)r.o(n,t)&&(r.m[t]=n[t]);if(d)var i=d(r)}for(o&&o(l);c<a.length;c++)s=a[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(i)},l=globalThis.webpackChunkgb_blog=globalThis.webpackChunkgb_blog||[];l.forEach(o.bind(null,0)),l.push=o.bind(null,l.push.bind(l))})();var t=r.O(void 0,[384],(()=>r(669)));t=r.O(t)})();